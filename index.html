<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minesweeper</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <h1>Minesweeper</h1>
    <div class="controls">
        <button id="settingsBtn">⚙️ Settings</button>
        <span>Flags: <span id="flagCount"></span></span>
    </div>
    <div id="board"></div>

    <!-- Settings Menu -->
    <div id="settingsMenu" class="settings-menu">
        <div class="settings-header">
            <h2>Settings</h2>
            <button id="closeSettingsBtn" class="close-btn">&times;</button>
        </div>
        <div class="settings-content">
            <!-- Reset Button -->
            <button id="resetBtn">Reset Game</button>

            <!-- Preset Selector -->
            <div class="setting">
                <label for="presetSelector">Preset:</label>
                <select id="presetSelector">
                    <option value="custom" hidden>Custom</option>
                </select>
            </div>

            <!-- Width Input -->
            <div class="setting">
                <label for="widthInput">Width: <span id="widthValue">16</span></label>
                <input type="number" id="widthInput" min="8" max="30" value="9" aria-label="Board Width">
            </div>

            <!-- Height Input -->
            <div class="setting">
                <label for="heightInput">Height: <span id="heightValue">16</span></label>
                <input type="number" id="heightInput" min="8" max="30" value="9" aria-label="Board Height">
            </div>

            <!-- Mine Quantity Input -->
            <div class="setting">
                <label for="mineInput">Mines: <span id="mineValue">90</span></label>
                <input type="number" id="mineInput" min="10" max="400" value="15" aria-label="Mine Quantity">
            </div>

            <!-- Difficulty Slider -->
            <div class="setting">
                <label for="difficultySlider">Difficulty: <span id="difficultyValue">Easy</span></label>
                <input type="range" id="difficultySlider" min="0" max="3" step="1" value="0" aria-label="Difficulty Level">
                <div class="difficulty-labels">
                    <span>Easy</span>
                    <span>Medium</span>
                    <span>Hard</span>
                    <span>Unlocked</span>
                </div>
                <div class="info">The difficulty slider controlls how constrained the mine placement is. Easy should require no brainpower. Hard should be harder. Unlocked places no constraints on mine placement which may result in unsolvable games.</div>
                <div class="info">Note: "Hard" difficulty does not guarantee a harder game, but it simply allows the generator to make one that is.</div>
            </div>

            <!-- <div class="setting">
                <input type="checkbox" id="highlightCheckbox" aria-label="Highlight Mines">
                <label for="highlightCheckbox">Highlight Mines</label>
            </div> -->

            <div class="setting">
                <label for="shapeSelector">Shape:</label>
                <select id="shapeSelector">
                    <option value="standard">Standard</option>
                    <option value="knight">Knight</option>
                    <option value="cross">Plus</option>
                    <option value="bigball">Big Ball</option>
                </select>
                <div class="info">The shape settings are experimental and are likely to break.</div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Generating...</div>
    </div>

    <script src="generator.js"></script>
    <script src="racer.js"></script>
    <script src="script.js"></script>
</body>

</html>